{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external {\"root\":\"TwoDeeEngine\",\"commonjs\":\"2d-engine\",\"commonjs2\":\"2d-engine\",\"amd\":\"2d-engine\"}","webpack:///./base-ball-entity.js","webpack:///./ball-entity.js","webpack:///./index.js"],"names":["root","factory","exports","module","require","define","amd","a","i","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","rngRadius","random","clone","seedrandom","uniformInt","Math","max","BALL_RADIUS_MAX","normalizedVector","Vector","tempVector","magnitudeSq","magnitude","minDistance","BallEntity","options","heading","this","dead","engine","radius","mass","Point","randomXPos","randomYPos","delta","other","x","pos","y","sqrt","onCollision","entities","length","index","updateWithOther","preUpdatePosition","updatePosition","postUpdatePosition","element","translation","set","xScale","yScale","plusEquals","canvas","makeCircle","fill","stroke","BaseEntity","initKillWhenStable","separation","bounce","gravity","boundaryReflect","killWhenStable","BaseBallEntity","STARTING_COUNT","addBalls","xMax","yMax","entity","addEntity","demo","TwoEngine","start"],"mappings":"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","file":"index.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"2d-engine\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"2d-engine\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"2d-engine\")) : factory(root[\"TwoDeeEngine\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import {\n  Point,\n  Vector,\n  BaseEntity,\n  random,\n  seedrandom\n} from \"2d-engine\";\n\nconst BALL_RADIUS_MIN = 2;\nconst BALL_RADIUS_MAX = 20;\nconst BALL_RADIUS_RANGE = BALL_RADIUS_MAX - BALL_RADIUS_MIN;\n\nconst rng = random.clone(seedrandom(\"ball-entity\"));\nconst rngRadius = rng.uniformInt(BALL_RADIUS_MIN, Math.max(BALL_RADIUS_RANGE, 1));\n\nlet normalizedVector = new Vector(0, 0);\nlet tempVector = new Vector(0, 0);\nlet magnitudeSq = 0;\nlet magnitude = 0;\nlet minDistanceSq = 0;\nlet minDistance = 0;\nlet i = 0;\n\nexport default class BallEntity extends BaseEntity {\n  constructor(options) {\n    super(options);\n\n    this.heading = new Vector(0, 0);\n  }\n\n  initializeProperties(options) {\n    this.dead = false;\n    this.engine = options.engine;\n    this.radius = rngRadius();\n    this.mass = this.radius;\n\n    super.initializeProperties(options);\n  }\n\n  startingPosition() {\n    return new Point(\n      this.engine.randomXPos(),\n      this.engine.randomYPos()\n    );\n  }\n\n  updateWithOther(delta, other) {\n    tempVector.x = this.pos.x - other.pos.x;\n    tempVector.y = this.pos.y - other.pos.y;\n\n    magnitudeSq = tempVector.magnitudeSq();\n    minDistance = this.radius + other.radius;\n    minDistanceSq = minDistance * minDistance;\n\n    if (magnitudeSq < minDistanceSq) {\n      magnitude = Math.sqrt(magnitudeSq);\n\n      normalizedVector.x = tempVector.x / magnitude;\n      normalizedVector.y = tempVector.y / magnitude;\n\n      this.onCollision(other, normalizedVector, magnitude);\n    }\n  }\n\n  update(delta) {\n    for (i = 0; i < this.entities.length; i++) {\n      if (this.index !== i) {\n        this.updateWithOther(delta, this.entities[i]);\n      }\n    }\n\n    this.preUpdatePosition(delta);\n    this.updatePosition(delta);\n    this.postUpdatePosition();\n\n    this.element.translation.set(\n      this.xScale(this.pos.x),\n      this.yScale(this.pos.y)\n    );\n  }\n\n  preUpdatePosition(delta) {}\n\n  updatePosition(delta) {\n    this.pos.plusEquals(this.heading);\n  }\n\n  postUpdatePosition() {}\n\n  render(canvas) {\n    this.element = canvas.makeCircle(\n      this.xScale(this.pos.x),\n      this.yScale(this.pos.y),\n      this.xScale(this.radius)\n    );\n\n    this.element.fill = \"#8C8880\";\n    this.element.stroke = \"none\";\n  }\n}\n\nlet dead = 0;\n","import {\n  separation,\n  bounce,\n  boundaryReflect,\n  gravity,\n  initKillWhenStable,\n  killWhenStable\n} from \"2d-engine\";\n\nimport BaseBallEntity from \"./base-ball-entity\";\n\nexport default class BallEntity extends BaseBallEntity {\n  initializeProperties(options) {\n    initKillWhenStable(this);\n\n    super.initializeProperties(options);\n  }\n\n  onCollision(other, normalizedVector, magnitude) {\n    separation(this, other, normalizedVector, magnitude);\n    bounce(this, other, normalizedVector);\n  }\n\n  preUpdatePosition(delta) {\n    gravity(this, delta);\n  }\n\n  postUpdatePosition() {\n    boundaryReflect(this);\n    killWhenStable(this);\n  }\n}\n","import { TwoEngine, random, seedrandom } from '2d-engine';\n\nimport BallEntity from './ball-entity';\nimport BaseBallEntity from './base-ball-entity';\n\nconst STARTING_COUNT = 250;\n\nexport function addBalls(engine, count = STARTING_COUNT) {\n  engine.randomXPos = random.clone(seedrandom(\"bounce-pos-x\"))\n    .uniformInt(0, engine.xMax);\n  engine.randomYPos = random.clone(seedrandom(\"bounce-pos-y\"))\n    .uniformInt(0, engine.yMax);\n\n  for (let i = 0; i < STARTING_COUNT; i++) {\n    const entity = new BallEntity({\n      engine: engine\n    });\n\n    entity.index = i;\n    entity.entities = engine.entities;\n    entity.engine = engine;\n\n    engine.addEntity(entity);\n  }\n}\n\nexport {\n  BallEntity,\n  BaseBallEntity\n};\n\nexport function demo() {\n  const engine = new TwoEngine(\n    '.canvas',\n    700, 700,\n    1000, 1000\n  );\n\n  addBalls(engine);\n\n  // let iterations = 0;\n  // let logTime = 0;\n  // const oldTick = engine.tick.bind(engine);\n  //\n  // engine.tick = function() {\n  //   iterations++;\n  //\n  //   if (iterations > 500) {\n  //     console.profileEnd();\n  //     engine.tick = oldTick;\n  //   }\n  //\n  //   return oldTick();\n  // }\n\n  // console.profile();\n\n  engine.start();\n}\n"],"sourceRoot":""}